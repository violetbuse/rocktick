{
  "db_name": "PostgreSQL",
  "query": "\n      WITH RECURSIVE retry_chain AS (\n        SELECT\n          id,\n          retry_for_id,\n          0 AS attempts_made\n        FROM\n          scheduled_jobs\n        WHERE id = $1\n\n        UNION ALL\n\n        SELECT\n          s.id,\n          s.retry_for_id,\n          r.attempts_made + 1\n        FROM\n          scheduled_jobs s\n        JOIN\n          retry_chain r ON s.retry_for_id = r.id\n      )\n      SELECT COALESCE(MAX(attempts_made), 0) as attempts\n      FROM retry_chain;\n      ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "attempts",
        "type_info": "Int4"
      }
    ],
    "parameters": {
      "Left": [
        "Text"
      ]
    },
    "nullable": [
      null
    ]
  },
  "hash": "4ced270ba8e7dd5da70b146a1764ff3ace0020e75586ad7acb8185ee2e8df067"
}
